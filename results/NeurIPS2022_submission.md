# The Experiments for NeurIPS 2022 Submission

## Scenarios

- Case 1 data center on demand: 
  - 8 X p3.16xlarge (8 V100)
  - Intra-instance bandwidth 100 Gbps
  - Inter-instance bandwidth 25 Gbps
- Case 2 data center spot: 
  - 8 * p3.8xlarge(4 V100) + 32 p3.2xlarge (1 V100)
  - Intra-instance bandwidth 100 Gbps
  - Inter-instance bandwidth 10 Gbps
- Case 3 Multiple universities: 
  - 2 universities (each has 32 V100 GPUs)
  - With in each university bandwidth: 5 Gbps 
  - Connection between regions: 1.2 Gbps
- Case 4 Regional distributed: 
  - 4 regions in Europe 
  - Within each region: 2 Gbps 
  - across different region 8: 1.0 ~ 1.2 Gbps
- Case 5 World-wide distributed: 
  - 8 regions around the work 
  - Within each region: 2 Gbps
  - Across different region 0.3 ~ 1.2 Gbps


## Compare Group

Four settings:
- (a). Megatron-Optimal 
- (b). Megatron-PP
- (c). Ours with Scheduler
- (d). Ours without Scheduler

Report:
- End-to-end: (a) vs (c) all scenarios 
- Effectiveness of scheduler: (c) vs (d) vs (b) all scenarios
- Effectiveness of system implementation: (b) vs (d) in homogeneous TC

Shared settings (GPT-XL):
- Switching total layers: 24, 32, 40
- Switching batch sizes: 1024, 2048, 4096
- Sequence length: 2048
- Micro-batch size: 1
- fp16
- The PFlop for each setting:

|            | Layer 24 | Layer 32 | Layer 40 |
|------------|----------|----------|----------|
| Batch 1024 | 23.64    | 31.52    | 39.41    |
| Batch 2048 | 47.28    | 63.04    | 78.82    |
| Batch 4096 | 94.56    | 126.08   | 157.64   |

## Case 1 Data Center on Demand

- Notes:
  - Use aws_run_gpt3_Ngpu_training.sh for ours w scheduler; 
  - Use aws_run_gpt3_scheduled_Ngpu_training.sh for ours wo scheduler;
  - Use aws_run_megatron_training.sh for different Megatron Settings.
  
- One iteration runtime (in seconds):

| Setting   | Megatron-P8 | Megatron-T8 | Megatron-P2T4 | Megatron-P4T2 |        |        | Ours w scheduler |        |        | Ours wo Scheduler |        |        | ZeRO S3 |         |         |
|-----------|-------------|-------------|---------------|---------------|--------|--------|------------------|--------|--------|-------------------|--------|--------|---------|---------|---------|
| Seed      | -           | -           | -             | 2022          | 2023   | 2024   | 2022             | 2023   | 2024   | 2022              | 2023   | 2024   | 2022    | 2023    | 2024    |
| L24 B1024 | 24.34       | 25.04       | 14.25         | 12.52         | 12.55  | 12.54  | 10.14            | 10.21  | 10.08  | 20.27             | 19.46  | 20.19  | 14.69   | 14.80   | 14.72   | 
| L24 B2048 | 50.73       | -           | -             | 24.70         | 24.71  | 24.66  | 17.62            | 17.63  | 17.81  | 33.25             | 32.32  | 33.10  | 28.83   | 28.87   | 28.34   |
| L24 B4096 | 101.79      | -           | -             | 48.91         | 48.76  | 48.85  | 32.99            | 32.98  | 33.19  | 65.78             | 67.13  | 66.43  | 59.58   | 57.91   | 58.34   |
| L32 B1024 | 26.80       | 32.59       | 18.44         | 15.38         | 15.43  | 15.30  | 13.33            | 13.24  | 13.13  | 23.09             | 24.72  | 22.12  | 25.43   | 25.94   | 24.56   |
| L32 B2048 | 53.45       | -           | -             | 30.51         | 30.31  | 30.62  | 23.22            | 23.21  | 23.12  | 39.43             | 40.25  | 39.29  | 46.29   | 46.67   | 46.10   |
| L32 B4096 | 106.82      | -           | -             | 60.32         | 60.39  | 60.31  | 43.10            | 43.34  | 43.18  | 78.47             | 79.06  | 79.59  | 89.57   | 90.83   | 91.45   |
| L40 B1024 | 28.62       | 40.46       | 22.60         | 18.88         | 18.77  | 18.60  | 16.70            | 16.68  | 16.65  | 24.48             | 25.51  | 23.04  | 38.55   | 38.08   | 38.52   |
| L40 B2048 | 56.78       | -           | -             | 36.87         | 36.89  | 36.86  | 29.58            | 29.51  | 29.42  | 44.71             | 44.44  | 43.80  | 73.95   | 73.43   | 74.57   |
| L40 B4096 | 111.58      | -           | -             | 72.96         | 72.93  | 72.88  | 53.80            | 53.76  | 53.84  | 88.74             | 88.71  | 88.60  | 149.62  | 146.22  | 149.64  |


- Hardware Efficiency (by PFlops):

| Setting   | Megatron-PP | Megatron-Opt | Ours w scheduler | Ours wo Scheduler | ZeRO S3 |
|-----------|-------------|--------------|------------------|-------------------|---------|
| L24 B1024 | 0.971       | 1.888        | 2.331            | 1.166             | 1.604   |
| L24 B2048 | 0.932       | 1.914        | 2.683            | 1.422             | 1.649   |
| L24 B4096 | 0.929       | 1.933        | 2.866            | 1.438             | 1.613   |
| L32 B1024 | 1.176       | 2.049        | 2.365            | 1.365             | 1.245   |
| L32 B2048 | 1.179       | 2.066        | 2.715            | 1.599             | 1.360   |
| L32 B4096 | 1.180       | 2.090        | 2.925            | 1.607             | 1.391   |
| L40 B1024 | 1.377       | 2.087        | 2.360            | 1.610             | 1.027   |
| L40 B2048 | 1.388       | 2.138        | 2.665            | 1.763             | 1.065   |
| L40 B4096 | 1.413       | 2.161        | 2.930            | 1.776             | 1.062   |


## Case 2 Data Center Spot

- Notes:
  - Use aws_run_megatron_heter_gpu_training.sh to run Megatron 
  - Use aws_run_gpt3_Ngpu_training.sh for ours w scheduler; 
  - Use aws_run_gpt3_scheduled_Ngpu_training.sh for ours wo scheduler;

- One iteration runtime (in seconds):

| Setting   | Megatron-T8 | Megatron-P4T2 | Megatron-P2T4 | Megatron-P8 |       |        | Ours w scheduler |        |        | Ours wo Scheduler |       |        | ZeRO S3 |        |        |
|-----------|-------------|---------------|---------------|-------------|-------|--------|------------------|--------|--------|-------------------|-------|--------|---------|--------|--------|
| Seed      | -           | -             | -             |  2022       | 2023  | 2024   | 2022             | 2023   | 2024   | 2022              | 2023  | 2024   | 2022    | 2023   | 2024   |
| L24 B1024 | 265.42      | 48.48         | 118.99        | 21.31       | 21.79 | 20.79  | 12.33            | 12.35  | 12.38  | 15.30             | 14.99 | 14.96  | 28.25   | 28.27  | 27.64  |
| L24 B2048 | -           | -             | -             | 42.37       | 42.04 | 42.31  | 22.92            | 23.07  | 23.01  | 28.12             | 27.83 | 27.99  | 60.95   | 64.40  | 61.97  |
| L24 B4096 | -           | -             | -             | 83.57       | 83.05 | 83.93  | 45.24            | 45.17  | 45.59  | 53.72             | 53.56 | 52.47  | 114.51  | 118.46 | 123.29 |
| L32 B1024 | -           | -             | -             | 23.18       | 22.94 | 23.91  | 15.73            | 15.27  | 15.83  | 18.73             | 18.89 | 18.99  | 43.64   | 47.51  | 46.60  |
| L32 B2048 | -           | -             | -             | 43.68       | 44.45 | 43.57  | 28.97            | 28.98  | 28.70  | 33.48             | 32.23 | 34.20  | 85.38   | 87.56  | 86.76  |
| L32 B4096 | -           | -             | -             | 85.54       | 85.34 | 85.08  | 55.99            | 55.64  | 55.88  | 64.44             | 66.42 | 63.78  | 167.65  | 168.04 | 175.46 |
| L40 B1024 | -           | -             | -             | 25.29       | 25.34 | 25.39  | 18.43            | 18.60  | 18.44  | 21.67             | 22.61 | 20.74  | 59.32   | 56.36  | 58.69  |
| L40 B2048 | -           | -             | -             | 49.41       | 49.53 | 49.36  | 34.39            | 34.91  | 33.42  | 40.03             | 41.67 | 40.30  | 119.35  | 119.73 | 121.56 |
| L40 B4096 | -           | -             | -             | 96.16       | 96.06 | 95.68  | 67.23            | 66.90  | 68.23  | 77.20             | 79.32 | 77.23  | 240.13  | 241.07 | 247.69 |

- Hardware Efficiency (by PFlops):

| Setting    | Megatron-PP(Opt) | Ours w scheduler | Ours wo Scheduler | ZeRO S3 |
|------------|------------------|------------------|-------------------|---------|
| L24 B1028  | 1.109            | 1.917            | 1.545             |         |
| L24 B2048  | 1.116            | 2.063            | 1.681             |         |
| L24 B4096  | 1.132            | 2.090            | 1.760             |         |
| L32 B1024  | 1.360            | 2.004            | 1.683             |         |
| L32 B2048  | 1.443            | 2.176            | 1.883             |         |
| L32 B4096  | 1.474            | 2.252            | 1.957             |         |
| L40 B1024  | 1.558            | 2.138            | 1.819             |         |
| L40 B2048  | 1.595            | 2.292            | 1.969             |         |
| L40 B4096  | 1.639            | 2.345            | 2.042             |         |


## Case 3 Multiple Universities

- Notes:
  - Generate tc scripts: aws_generate_heter_tc.sh 2 (case indexed from 0)
  - Use aws_run_gpt3_1gpu_training.sh for ours w scheduler(manually optimized); 
  - Use aws_run_gpt3_scheduled_1gpu_training.sh for ours wo scheduler;
  - Use aws_run_megatron_training.sh for different Megatron Settings.

- One iteration runtime

| Setting   | Megatron-P8 (Default) | Megatron-P8 (wo Scheduler) |         |         | Ours w scheduler |       |        | Ours wo Scheduler |       |       | ZeRO S3 |          |          |
|-----------|-----------------------|----------------------------|---------|---------|------------------|-------|--------|-------------------|-------|-------|---------|----------|----------|
| Seed      | -                     | 2022                       | 2023    | 2024    | 2022             | 2023  | 2024   | 2022              | 2023  | 2024  | 2022    | 2023     | 2024     |
| L24 B1024 | 21.27                 | 33.72                      | 32.59   | 32.77   | 19.06            | 18.92 | 18.63  | 27.80             | 27.70 | 27.96 | 163.86  | 163.54   | 162.89   |
| L24 B2048 | 40.19                 | 59.69                      | 58.43   | 59.01   | 32.67            | 32.47 | 32.20  | 50.01             | 49.82 | 50.19 | 329.29  | 324.15   | 325.35   |
| L24 B4096 | 81.40                 | 111.31                     | 110.31  | 110.49  | 54.50            | 54.38 | 53.86  | 93.35             | 92.33 | 92.91 | 659.72  | 658.10   | 659.25   |
| L32 B1024 | 24.75                 | 33.98                      | 33.02   | 33.17   | 22.35            | 22.03 | 21.95  | 29.62             | 29.01 | 29.57 | 245.18  | 244.53   | 243.99   |
| L32 B2048 | 45.15                 | 60.17                      | 59.21   | 59.48   | 37.39            | 36.92 | 37.24  | 51.22             | 50.93 | 50.86 | 486.18  | 486.77   | 488.00   |
| L32 B4096 | 90.45                 | 112.40                     | 111.39  | 111.66  | 64.45            | 64.29 | 63.92  | 94.91             | 94.07 | 94.32 | 975.36  | 972.51   | 972.29   |
| L40 B1024 | 26.83                 | 37.01                      | 35.97   | 36.01   | 27.02            | 26.94 | 26.38  | 32.62             | 31.05 | 31.76 | 330.99  | 333.27   | 332.11   |
| L40 B2048 | 50.01                 | 65.06                      | 64.05   | 64.12   | 44.91            | 44.81 | 44.38  | 55.95             | 55.21 | 55.61 | 660.97  | 661.79   | 659.85   |
| L40 B4096 | 97.93                 | 121.98                     | 121.10  | 121.02  | 78.23            | 78.87 | 78.79  | 102.34            | 98.83 | 99.29 | 1325.62 | 1322.99  | 1327.24  |

- Hardware Efficiency (by PFlops):

| Setting    | Megatron-PP(Default) | Megatron-P8 (wo Scheduler) | Ours w scheduler | Ours wo Scheduler | ZeRO S3 |
|------------|----------------------|----------------------------|------------------|-------------------|---------|
| L24 B1024  | 1.111                | 0.701                      | 1.240            | 0.850             | 0.145   |
| L24 B2048  | 1.176                | 0.792                      | 1.447            | 0.945             | 0.145   |
| L24 B4096  | 1.162                | 0.850                      | 1.735            | 1.013             | 0.143   |
| L32 B1024  | 1.274                | 0.928                      | 1.410            | 1.064             | 0.129   |
| L32 B2048  | 1.396                | 1.048                      | 1.686            | 1.231             | 0.129   |
| L32 B4096  | 1.394                | 1.122                      | 1.956            | 1.328             | 0.130   |
| L40 B1024  | 1.469                | 1.065                      | 1.459            | 1.208             | 0.119   |
| L40 B2048  | 1.576                | 1.211                      | 1.755            | 1.409             | 0.119   |
| L40 B4096  | 1.610                | 1.292                      | 2.015            | 1.540             | 0.119   |


## Case 4 Regional Distributed

- Notes:
  - Generate tc scripts: aws_generate_heter_tc.sh 3 (case indexed from 0)
  - Use aws_run_gpt3_1gpu_training.sh for ours w scheduler(manually optimized); 
  - Use aws_run_gpt3_scheduled_1gpu_training.sh for ours wo scheduler;
  - Use aws_run_megatron_training.sh for different Megatron Settings.

- One iteration runtime 

| Setting   | Megatron-P8 (Default)  | Megatron-P8 (wo Scheduler) |         |         | Ours w scheduler |        |        | Ours wo Scheduler |        |        | ZeRO S3 |         |         |
|-----------|------------------------|----------------------------|---------|---------|------------------|--------|--------|-------------------|--------|--------|---------|---------|---------|
| Seed      | -                      | 2022                       | 2023    | 2024    | 2022             | 2023   | 2024   | 2022              | 2023   | 2024   | 2022    | 2023    | 2024    |
| L24 B1024 | 38.77                  | 56.20                      | 62.36   | 59.76   | 22.24            | 21.85  | 21.81  | 31.99             | 31.77  | 31.96  | 240.39  | 240.01  | 240.44  |
| L24 B2048 | 72.91                  | 102.08                     | 106.41  | 104.93  | 38.68            | 38.36  | 38.41  | 57.07             | 56.98  | 57.01  | 475.80  | 481.59  | 480.94  |
| L24 B4096 | 141.71                 | 193.72                     | 197.92  | 195.62  | 72.02            | 71.76  | 71.76  | 106.12            | 105.76 | 106.02 | 956.61  | 957.95  | 959.64  |
| L32 B1024 | 42.59                  | 60.31                      | 64.82   | 63.51   | 26.24            | 26.01  | 25.97  | 33.78             | 33.62  | 33.59  | 551.35  | 551.96  | 555.67  |
| L32 B2048 | 79.96                  | 108.64                     | 112.52  | 111.90  | 45.66            | 45.76  | 45.38  | 58.42             | 58.54  | 58.60  | 1110.51 | 1096.01 | 1102.59 |
| L32 B4096 | 151.56                 | 206.11                     | 211.91  | 209.05  | 86.07            | 85.73  | 85.79  | 108.91            | 107.81 | 108.21 | 2198.83 | 2212.89 | 2195.66 |
| L40 B1024 | 46.63                  | 63.86                      | 69.48   | 66.63   | 31.69            | 31.43  | 31.38  | 37.62             | 37.43  | 37.39  | 841.98  | 847.14  | 846.81  |
| L40 B2048 | 85.65                  | 114.33                     | 120.37  | 117.03  | 51.75            | 51.55  | 51.45  | 63.58             | 62.12  | 62.48  | 1676.73 | 1673.10 | 1669.82 |
| L40 B4096 | 164.77                 | 216.38                     | 221.44  | 218.43  | 95.46            | 95.15  | 95.11  | 115.90            | 112.34 | 113.74 | 3377.49 | 3367.26 | 3348.84 |

- Hardware Efficiency (by PFlops):

| Setting   | Megatron-PP (Default) | Megatron-P8 (wo Scheduler) | Ours w scheduler | Ours wo Scheduler | ZeRO S3 |
|-----------|-----------------------|----------------------------|------------------|-------------------|---------|
| L24 B1024 | 0.610                 | 0.421                      | 1.063            | 0.739             | 0.098   |
| L24 B2048 | 0.648                 | 0.463                      | 1.222            | 0.828             | 0.099   |
| L24 B4096 | 0.667                 | 0.488                      | 1.313            | 0.891             | 0.099   |
| L32 B1024 | 0.740                 | 0.523                      | 1.201            | 0.933             | 0.057   |
| L32 B2048 | 0.788                 | 0.580                      | 1.381            | 1.079             | 0.057   |
| L32 B4096 | 0.832                 | 0.612                      | 1.465            | 1.158             | 0.057   |
| L40 B1024 | 0.845                 | 0.617                      | 1.244            | 1.048             | 0.047   |
| L40 B2048 | 0.920                 | 0.689                      | 1.523            | 1.240             | 0.047   |
| L40 B4096 | 0.957                 | 0.729                      | 1.651            | 1.360             | 0.047   |


## Case 5 World-wide Distributed 

- Notes:
  - Generate tc scripts: aws_generate_heter_tc.sh 4 (case indexed from 0)
  - Use aws_run_gpt3_1gpu_training.sh for ours w scheduler(manually optimized); 
  - Use aws_run_gpt3_scheduled_1gpu_training.sh for ours wo scheduler;
  - Use aws_run_megatron_training.sh for different Megatron Settings.

- One iteration runtime 

| Setting   | Megatron-P8 (Default) | Megatron-P8 (wo Scheduler) |         |         | Ours w scheduler |         |         | Ours wo Scheduler |        |         | Deepspeed S3 |          |         |
|-----------|-----------------------|----------------------------|---------|---------|------------------|---------|---------|-------------------|--------|---------|--------------|----------|---------|
| Seed      | -                     | 2022                       | 2023    | 2024    | 2022             | 2023    | 2024    | 2022              | 2023   | 2024    | 2022         | 2023     | 2024    |
| L24 B1024 | 83.04                 | 167.74                     | 164.38  | 164.63  | 43.78            | 44.39   | 43.87   | 92.29             | 89.64  | 93.46   | 589.43       | 584.14   | 577.56  |
| L24 B2048 | 156.93                | 301.30                     | 297.88  | 298.45  | 62.27            | 62.90   | 62.59   | 165.89            | 162.10 | 163.80  | 1158.05      | 1143.81  | 1209.49 |
| L24 B4096 | 307.79                | 572.48                     | 569.22  | 569.25  | 104.06           | 104.53  | 104.08  | 313.63            | 308.01 | 315.88  | 2375.95      | 2383.01  | 2377.42 |
| L32 B1024 | 85.97                 | 180.11                     | 176.51  | 176.91  | 51.06            | 51.63   | 51.13   | 99.10             | 97.21  | 99.50   | 1106.35      | 1105.22  | 1100.08 |
| L32 B2048 | 165.14                | 313.90                     | 310.85  | 311.32  | 71.96            | 72.46   | 72.02   | 172.54            | 165.46 | 168.49  | 2251.42      | 2203.13  | 2138.95 |
| L32 B4096 | 327.65                | 584.52                     | 580.88  | 581.78  | 114.01           | 114.57  | 113.91  | 320.63            | 311.32 | 324.41  | 4360.72      | 4430.44  | 4393.58 |
| L40 B1024 | 89.35                 | 188.17                     | 184.87  | 185.69  | 58.24            | 58.92   | 58.55   | 106.71            | 100.61 | 108.18  | 1666.32      | 1647.07  | 1657.18 |
| L40 B2048 | 171.95                | 326.02                     | 322.29  | 322.66  | 80.68            | 81.34   | 80.92   | 181.16            | 171.87 | 181.80  | 3223.25      | 3202.50  | 3241.68 |
| L40 B4096 | 337.69                | 595.64                     | 591.08  | 592.07  | 124.07           | 124.56  | 124.23  | 331.25            | 313.98 | 335.31  | 6799.17      | 6727.32  | 6510.85 |

- Hardware Efficiency (by PFlops):

| Setting    | Megatron-PP(Default) | Megatron-P8 (wo Scheduler) | Ours w scheduler | Ours wo Scheduler | ZeRO S3 |
|------------|----------------------|----------------------------|------------------|-------------------|---------|
| L24 B1024  | 0.285                | 0.141                      | 0.540            | 0.256             | 0.040   |
| L24 B2048  | 0.301                | 0.157                      | 0.759            | 0.285             | 0.040   |
| L24 B4096  | 0.307                | 0.165                      | 0.909            | 0.302             | 0.040   |
| L32 B1024  | 0.367                | 0.175                      | 0.617            | 0.318             | 0.029   |
| L32 B2048  | 0.382                | 0.201                      | 0.876            | 0.365             | 0.029   |
| L32 B4096  | 0.385                | 0.216                      | 1.106            | 0.393             | 0.029   |
| L40 B1024  | 0.441                | 0.209                      | 0.677            | 0.369             | 0.024   |
| L40 B2048  | 0.458                | 0.242                      | 0.977            | 0.435             | 0.024   |
| L40 B4096  | 0.467                | 0.265                      | 1.271            | 0.476             | 0.024   |


## FluidStack Run (Two Region)

- Notes:
  - Two FluidStack Region: East and Middle (8 nodes in East, 8 nodes in Middle)
  - Machine Spec:
    - A40 GPU: 150 TFPOLS; 48 GB RAM
    - 128 RAM
    - 8 Core


| Setting   | Megatron-P8 (Default) | Megatron-P8 (wo Scheduler) |        |        | Ours w scheduler |         |         | Ours wo Scheduler-Fair |         |         | Ours wo Scheduler-complete |        |         |
|-----------|-----------------------|----------------------------|--------|--------|------------------|---------|---------|------------------------|---------|---------|----------------------------|--------|---------|
| Seed      | -                     | 2022                       | 2023   | 2024   | 2022             | 2023    | 2024    | 2022                   | 2023    | 2024    | 2022                       | 2023   | 2024    |
| L24 B1024 | 51.32                 | 88.58                      | 91.93  | 87.47  | 30.36            | 29.07   | 27.29   | 60.47                  | 65.07   | 64.94   | 86.99                      | 90.26  | 93.01   |
| L24 B2048 | -                     | 170.61                     | 171.93 | 172.14 | 49.63            | 46.35   | 43.95   | 128.44                 | 136.02  | 131.40  | 180.96                     | 181.42 | 189.89  |
| L24 B4096 | -                     | 338.18                     | 342.43 | 339.13 | 78.78            | 80.36   | 77.82   | 239.03                 | 260.18  | 238.95  | 356.17                     | 332.19 | 343.46  | 
| L32 B1024 | -                     | 91.32                      | 99.08  | 101.31 | 34.99            | 41.16   | 38.41   | 76.09                  | 74.37   | 76.60   | 102.08                     | 105.90 | 96.15   | 
| L32 B2048 | -                     |                            |        |        | 61.04            | 57.26   | 57.54   | 139.67                 | 152.66  | 138.20  | 189.53                     | 202.45 | 178.67  | 
| L32 B4096 | -                     |                            |        |        | 99.16            | 97.87   | 99.89   | 272.30                 | 288.62  | 277.66  | 380.48                     | 395.48 | 385.51  |
| L40 B1024 | -                     | 98.84                      | 100.04 | 98.08  | 43.60            | 45.75   | 46.90   | 85.38                  | 81.34   | 81.93   | 111.53                     | 106.37 | 115.06  | 
| L40 B2048 | -                     |                            |        |        | 72.30            | 75.17   | 72.98   | 163.87                 | 166.36  | 152.61  | 200.81                     | 198.98 | 207.09  | 
| L40 B4096 | -                     |                            |        |        | 120.61           | 120.95  | 118.19  |                        |         |         | 403.06                     | 399.57 | 392.77  | 

- Hardware Efficiency (by PFlops):

| Setting    | Megatron-P8 (wo Scheduler) | Ours w scheduler | Ours wo Scheduler |
|------------|----------------------------|------------------|-------------------|
| L24 B1024  | 0.265                      | 0.818            | 0.372             |
| L24 B2048  | 0.276                      | 1.014            | 0.358             |
| L24 B4096  | 0.278                      | 1.197            | 0.384             |
| L32 B1024  | 0.324                      | 0.825            | 0.416             |
| L32 B2048  |                            | 1.076            | 0.439             |
| L32 B4096  |                            | 1.274            | 0.451             |
| L40 B1024  | 0.398                      | 0.868            | 0.475             |
| L40 B2048  |                            | 1.073            | 0.490             |
| L40 B4096  |                            | 1.315            |                   |




## FluidStack Run (Three Region)

- Communication Matrix
- Delay:

|      | East    | Mid      | West     |
|------|---------|----------|----------|
| East | -       | 21.8 ms  | 60.2 ms  |
| Mid  | 21.8 ms | -        | 39.7 ms  |
| West | 60.2 ms | 39.7 ms  | -        |


- Bandwidth:

|             | East (send) | Mid (send) | West  (send) |
|-------------|-------------|------------|--------------|
| East (recv) | -           | 3.04 Gbps  | 1.17 Gbps    |
| Mid (recv)  | 3.10 Gbps   | -          | 1.78 Gbps    |
| West(recv)  | 0.15 Gbps   | 0.16 Gbps  | -            |